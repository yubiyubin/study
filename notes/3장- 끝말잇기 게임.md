# 3장- 끝말잇기 게임

# 기본 VS Code 사용법

1. Visual Studio Code에서 원하는 폴더 내에 `제목.html` 형식의 파일 생성
2. 파일에 `doc **TAB`** 을 입력 ⇒ 형식 자동완성
3. `f5` 누르기 → chrome 클릭하면 파일 실행 가능

<aside>
💡

`option` + `shift` + `위쪽/아래쪽 화살표` 키 동시에 누르면 현재 줄의 내용을 바로 윗줄/아랫줄에 그대로 복사

</aside>

# 대화상자 띄우기

## prompt('입력문구')

> **입력문구가 써 있는 prompt 창이 뜬다 ⇒ 사용자로부터 값을 입력 받는다!**
> 
- prompt에 입력되는 값은 문자열이기 때문에, 숫자를 입력해도 문자열로 인식
⇒ 숫자로 인식하게 하고 싶을 때:
    - 방법1: `parseInt(prompt('입력문구'), 진법)` (진법 생략 시 10진법 적용)
    - 방법 2: `number(prompt(’입력문구’))`

## alert(’문구/값’)

> 해당 문구/값을 경고창에 띄워준다
> 

## confirm(’문구/값’)

> 해당 문구/값을 confirm창에 띄우고, 사용자가 취소/확인 중 선택하여 진행 여부를 결정
> 

# HTML 태그 선택하기

# `document.querySelector(’선택자’)`

> **html에서 `선택자` 에 해당하는 첫번째 태그를 select한다!**
> 
- 변수에 할당 가능
    - ex)
        
        ```jsx
        const $input= document.querySelector('input')
        ```
        
- 중간에 공백을 두고 여러개 선택자(태그, id, class 혼용 가능) 입력 가능
    - ex1) 선택자1의 자손인 선택자2에 해당하는 태그를 select: `document.querySelector(’선택자1 선택자2’)`
        
        ```jsx
        <div><span id="order">1</span>번째 참가자</div>
        <div>
          제시어:<span id="word"><p></p></span>
        </div>
        ```
        
        ```jsx
        document.querySelectorAll('div span')
        //NodeList(2) [span#order, span#word]
        document.querySelectorAll('div p')
        //NodeList [p]
        ```
        
    - ex2) 선택자1의 자식인 선택자2에 해당하는 태그를 select: `document.querySelector(’선택자1>선택자2’)`
    
    <aside>
    💡
    
    자손과 자식의 차이: 자손은 손자 포함, 자식은 바로 다음 태그까지만 의미
    
    </aside>
    
- 여러개의 태그를 모두 select하고 싶다면 `document.querySelectorAll(’선택자’)`

## ID 선택

### `#id명` 의 형식으로 입력

- ex) 같은 선택자(span)에 해당되는 태그가 여러개인 경우
    
    ```
    <div><span id="order">1</span>번째 참가자</div>
        <div>제시어:<span id="word"></span></div>
    ```
    
    ```jsx
    document.querySelectorAll('span')//NodeList(2) [span#order, span#word]
    document.querySelector('span')//<span id="order">1</span>
    document.querySelector('#word')//<span id="word"></span>
    ```
    
    <aside>
    💡
    
    id는 html에서 고유한 값이기 때문에, 태그가 너무 복잡해질 때는 id를 붙여주는 게 좋다!
    
    </aside>
    

### Class 선택

### `.클래스명` 의 형식으로 입력

- ex)
    
    ```
    <button>버튼1</button>
    <button class="btn">버튼2</button>
    <button class="btn">버튼3</button>
    ```
    
    - 버튼2와 버튼3을 select하고 싶은 경우
        
        ```jsx
        document.querySelectorAll('.btn')
        //NodeList(2) [button.btn, button.btn]
        ```
        
    - 버튼 1과 버튼 3을 select하고 싶은 경우 - 버튼1과 버튼3에 동일 class를 만들어준 후→ 그 class를 select한다!
        
        ```
        <button class="target">입력</button>
        <button class="btn">버튼2</button>
        <button class="btn target">버튼3</button>
        ```
        
        ```jsx
        document.querySelectorAll('.target')
        //NodeList(2) [button.target, button.btn.target]
        ```
        

# 이벤트 리스너 달기(콜백함수)

## `태그.addEventListener(’이벤트명’, 콜백함수);`

> **HTML 요소에 "센서"를 장착하는 함수**
> 
> 
> ⇒ 이**벤트(클릭, 키입력 등)**을 감지해서, 콜백 함수를 실행
> 
- ex)

```jsx
<script>
      document.querySelector('input').addEventListener('input', function () {
        console.log('입력했습니다');
      });

      document.querySelector('button').addEventListener('click', function () {
        console.log('버튼 누름');
      });
    </script>
    
   // 입력 횟수와 버튼 누른 횟수가 console에 뜬다!
```

- `event.target.value` : 사용자가 입력한 내용을 실시간으로 읽기 위해 입력 요소의 현재 값을 가져오는 표현
    
    ```
    document.querySelector('input').addEventListener('input', function (event) {
            console.log('입력했습니다',event.target.value);
          });
    // 입력한 내용도 console에 뜬다!
    //+ event 자리에 다른 변수명을 써도 되지만, 보통 가독성을 위해 event 사용한다!
    ```
    
    - 콜백함수(리스너함수)를 밖에서 정의해도 된다!
        - ex)
        
        ```
         const clickButton = () => {
                console.log('버튼클릭');
              };
              document.querySelector('button').addEventListener('click', clickButton);
        ```
        
        <aside>
        💡
        
        콜백함수: 어떤 동작이 실행된 후 연이어 실행되는 함수
        
        </aside>
        
    

# 끝말잇기 만들기

### HTML

```html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>끝말잇기</title>
  </head>
  <body>
    <div><span id="order">1</span>번째 참가자</div>
    <!-- 화면에 '1번째 참가자' 표시-->
    <div>제시어:<span id="word"></span></div>
    <!-- 화면에 '제시어:' 표시-->
    <input type="text" />
    <button>입력</button>
    <!-- 화면에 '입력'버튼 생성-->
    <script>
```

- `div` : division(구역)의 줄임말, HTML에서 가장 기본적인 블록요소⇒ 필요한 부분을 묶는 역할
- `span` : 문장 안의 특정 부분만 묶는 인라인 요소, 작은 구간을 묶는 태그로 쓰임

### JavaScript

```jsx

const number = parseInt(prompt('참가인원을 입력하시오'), 10); //'참가인원을 입력하시오'prompt창 뜬다
const $button = document.querySelector('button');
const $input = document.querySelector('input');
const $word = document.querySelector('#word');
const $order = document.querySelector('#order');
let word; //제시어
let newWord; //새로 입력한 단어

const onClickButton = () => {
  if (!word) {
    //제시어가 비어있을 때
    word = newWord; //새로 입력한 단어가 제시어가 된다
    $word.textContent = word; //span에 제시어를 넣어준다 => 화면에 제시어 표시 
    //+화면에서 span에 해당하는 내용은 textContent
    $input.value = ''; //입력창을 비워준다 
    $input.focus(); //입력창에 커서를 둔다
    //+화면에서 input에 해당하는 내용은 value, 나머지는 거의 다 textContent
    const order = parseInt($order.textContent); //현재 순서 
    //+textContent는 문자열 형식 => 숫자로 사용하려면 parseInt 또는 number로 변환 필요
    if (order + 1 > number) {
      $order.textContent = 1;
    } else {
      $order.textContent = order + 1;
    }
  } else {
    //비어있지 않을 때
    if (word[word.length - 1] === newWord[0]) {
      //제시어의 끝자 = 새제시어의 첫자일때
      word = newWord;
      $word.textContent = word;
      $input.value = '';
      $input.focus(); 
      const order = parseInt($order.textContent); //현재 순서 
      if (order + 1 > number) {
        $order.textContent = 1;
      } else {
        $order.textContent = order + 1;
      }
    } else {
      //제시어의 끝자 != 새제시어의 첫자일 때
      alert('게임종료'); 
    }
  }
};
const onInput = (event) => {
  newWord = event.target.value;
};
$button.addEventListener('click', onClickButton); //버튼 클릭 감지-> onClickButton 함수 실행
$input.addEventListener('input', onInput); //입력 감지-> onInput 함수 실행

```

### HTML

```html
		</script>
  </body>
</html>

```

<aside>
💡

화면에서 `input`, `select`, `textArea` 태그에 해당하는 값은 `.value` 로,
그 외 태그에 해당하는 값은 대부분 `.textContent` 로 가져온다!

</aside>

<aside>
💡

OR `||` 을 이용한 JavaScript 코드의 단순화 (중복 부분 제거)

</aside>

```
const onClickButton = () => {
  if (!word || word[word.length - 1] === newWord[0]) {
    //제시어가 비어있을 때 또는 막자 = 첫자일 떄
    word = newWord; //입력한 단어가 제시어가 된다
    $word.textContent = word; //span에 제시어를 넣어준다=> 화면에 제시어 표시 +화면에서 span에 해당하는 내용은 textContent
    $input.value = ''; //입력창을 비워준다 +화면에서 input에 해당하는 내용은 value,나머지는 거의 다 textContent
    $input.focus(); //입력창에 커서를 둔다
    const order = parseInt($order.textContent); //현재 순서 +textContent는 문자열 형식 => 숫자로 사용하려면 parseInt 또는 number로 변환 필요
    if (order + 1 > number) {
      $order.textContent = 1;
    } else {
      $order.textContent = order + 1;
    }
  } else {
    // 첫입력도 아닌데 막자 != 첫자일 때
    alert('게임종료');
  }
};
const onInput = (event) => {
  newWord = event.target.value;
};
```

<aside>
💡

중복 부분이 매 조건문 뒤에 있다면 조건문 밖으로 빼면 된다!

</aside>