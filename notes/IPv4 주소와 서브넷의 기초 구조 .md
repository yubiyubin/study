# IPv4 주소와 서브넷의 기초 구조

# IP 주소

> IP 주소는 네트워크 계층에서 패킷의 출발지와 목적지를 식별하는 논리적 주소로, 고유성은 네트워크 범위 내에서만 보장된다.
> 

## IP주소의 종류

<aside>
🐱

IP주소는 버전(Internet Protocol version) 개념으로 발전해왔으며, 실제로 쓰이는 건 IPv4 와 IPv6이다.

</aside>

### 1. IPv4

- 32비트 주소 체계
- 약 **43억 개 (2³²)** 주소
- 점으로 구분된 십진수 표기
    
    → `192.168.0.1`
    

### 2. IPv6

- 128비트 주소 체계
- 사실상 **무한에 가까운 주소 수**
- 16진수 + 콜론 표기
    
    → `2001:0db8:85a3::8a2e:0370:7334`
    

# IPv4

> **IPv4 주소란 네트워크 계층에서 통신 주체를 식별하기 위해 사용되는 32비트 길이의 논리적 주소이며, 네트워크 주소와 호스트 주소로 구성된다.**
> 

## 구조

### 1. 32비트

- 사람이 읽기 쉽게 **8비트 × 4개**로 나누어 **점으로 구분된 십진수**로 표현한다.
    
    ```jsx
    192.168.123.132
    = 11000000.10101000.01111011.10000100
    ```
    

### 2.  [ 네트워크 주소 | 호스트 주소 ]

- **네트워크 주소:**  어떤 네트워크에 속하는지,
- **호스트 주소:** 그 네트워크 안에서 어떤 장치인지 나타낸다.

<aside>
🐱

이 둘을 **어디까지 나눌지 결정하는 기준이 바로 서브넷 마스크다.**

</aside>

## 네트워크 클래스

> 네트워크 클래스는 IPv4 주소를 네트워크 크기별로 나누기 위해 초기에 사용된 주소 체계로, 클래스 A/B/C에 따라 기본 네트워크 크기와 서브넷 마스크가 미리 정해져 있었다.
> 

<aside>
🐱

현대 IPv4 네트워크에서는 클래스리스(CIDR) 방식이 표준이며, 클래스 기반 주소 체계는 개념적 용도로만 사용된다!

클래스리스란?

> IPv4 주소에서 클래스 개념을 제거하고, 프리픽스 길이(/n)를 사용해 네트워크 범위를 직접 지정하는 방식이다.
> 
</aside>

### 클래스별 기본 규칙

| 클래스 | 첫 옥텟 범위 | 기본 서브넷 마스크 | 네트워크 비트 | 호스트 비트 | 서브넷 비트 가능 범위 |
| --- | --- | --- | --- | --- | --- |
| A | 1–126 | 255.0.0.0 | 8 | 24 | 0 ~ 22 |
| B | 128–191 | 255.255.0.0 | 16 | 16 | 0 ~ 14 |
| C | 192–223 | 255.255.255.0 | 24 | 8 | 0 ~ 6 |

<aside>
🐱

서브넷 비트란?

- 클래스별 기본 네트워크 비트 외에 **호스트 영역의 일부를 네트워크로 “빌려 쓰는 비트”**다.
- 서브넷 비트 개수만큼
    - 원래 호스트 비트 → 줄어들고,
    - 네트워크 비트 → 늘어난다!
</aside>

## 서브넷

> 서브넷(subnet)이란, 하나의 IP 네트워크를 더 작은 네트워크 단위로 나눈 것이다.
> 

<aside>
🐱

서브넷을 나누는 이유: 원래 IP 네트워크는 너무 크다!

⇒ 같은 IP 대역 안이지만, **논리적으로** 여러 개의 **독립된 네트워크**로  **분할하면,** 

- **브로드캐스트 범위 감소**
- **보안 분리**
- **트래픽 관리**
- **조직 구조 반영이 쉬워진다.**
</aside>

## 서브넷 마스크

> **서브넷 마스크는 IPv4주소를 네트워크/호스트 영역으로 나누기 위한 별도의 해석 정보로, 32비트 값이다.**
> 
- 네트워크 부분: `1` →  IP 비트 유지
- 호스트 부분: `0` → 무조건 0

<aside>
🐱

네트워크 부분만 남기고, 호스트 부분은 가려낸다.

</aside>

- ex)
    
    ```
    11111111.11111111.11111111.00000000
    ```
    

<aside>
🐱

서브넷(subnet)이란, 하나의 IP 네트워크를 서브넷 마스크 기준으로 나눈 논리적 네트워크 단위다.

즉, **같은 서브넷=같은 네트워크 주소=같은 브로드캐스트 주소이다.**

</aside>

## 브로드캐스트 주소

> 브로드캐스트 주소는 호스트 영역의 비트를 모두 1로 한 주소로, 같은 서브넷(네트워크)에 속한 모든 장치에게 동시에 데이터를 보내기 위해 예약된 IPv4 주소다.
> 
- IP 주소는 **32비트 숫자**
- IP는 **네트워크 + 호스트**로 나뉜다
- 그 경계를 정하는 게 **서브넷 마스크**
- 네트워크 주소 = 호스트 비트 전부 0
- 브로드캐스트 주소 = 호스트 비트 전부 1
- 실제 호스트는 그 사이

### 조건

```
IP 주소        :192.168.1.10
서브넷 마스크  :255.255.255.0 (/24)

```

### 1️⃣ 이진 표현

```
IP 주소:
11000000.10101000.00000001.00001010

서브넷 마스크:
11111111.11111111.11111111.00000000

```

### 2️⃣ 브로드캐스트 주소 만들기

- 네트워크 비트 → 그대로
- 호스트 비트 → 전부 1

```
11000000.10101000.00000001.11111111

```

👉 십진수로 변환하면

```
192.168.1.255

```

📌 이게 브로드캐스트 주소다.

## 

## 호스트 개수 계산할 때 항상 -2 하는 이유

```
호스트 비트가 n개라면
총 경우의 수 = 2ⁿ

```

하지만:

- 전부 0 → 네트워크 주소
- 전부 1 → 브로드캐스트 주소

👉 실제 사용 가능 호스트 수 = **2ⁿ - 2**

제가 이렇게 외우면 가장 안전하다 👇

- 서브넷 마스크 → **경계선**
- 네트워크 주소 → **호스트 비트 전부 0**
- 브로드캐스트 주소 → **호스트 비트 전부 1**

## 계산 공식 정리

### ① 최대 서브넷 개수

```
2^(서브넷 비트 수)

```

### ② 서브넷당 호스트 수

```
2^(남은 호스트 비트 수) -2

```

### ③ 서브넷 마스크 계산

- 기본 마스크 + 서브넷 비트만큼 1 추가
- 이후 8비트 단위로 끊어서 십진수 변환

### ④ 네트워크 주소

```
IP 주소 AND 서브넷 마스크

```

---

## 7️⃣ 브로드캐스트 주소

### 정의

- **해당 서브넷의 마지막 주소**
- 호스트 비트가 **전부 1**

### 특징

- 모든 호스트에게 패킷을 전송할 때 사용
- **할당 불가 주소**

👉 미션에서 반드시 출력해야 하는 값

📎 참고

- Wikipedia – Broadcast Address
    
    https://ko.wikipedia.org/wiki/브로드캐스트_주소
    

---

## 8️⃣ 호스트 IP 주소 범위 계산

### 규칙

```
네트워크 주소 + 1  → 첫 번째 호스트
브로드캐스트 주소 - 1 → 마지막 호스트

```

### 예시

```
네트워크:     10.0.0.0
브로드캐스트: 10.63.255.255

호스트 범위:
10.0.0.1 ~ 10.63.255.254

```

---

##